const e=localStorage.getItem("user"),t=(localStorage.getItem("avatar"),"https://js2-7158b-default-rtdb.europe-west1.firebasedatabase.app/");async function n(e){const n=t+e,a=await fetch(n);return await a.json()}const a=localStorage.getItem("user"),o=localStorage.getItem("avatar"),c=document.querySelector("#all-posts");document.querySelector("#my-page-btn").addEventListener("click",(()=>{location.assign("../html/profile.html")}));const s=document.querySelector("#user-avatar"),r=document.querySelector("#user-name");var l,i,u;l=a,i=o,u=r,s.src=i,u.innerText=l,async function(){const e=await n("users.json");!function(e){const t=[];e.forEach((e=>{const{username:n,avatar:a,posts:o}=e;if(null!=o){function s(e){e.forEach((e=>{c.innerHTML="";const{message:o,time:s}=e,r={post:o,timestamp:s,user:n,avi:a};t.push(r),t.sort((function(e,t){return t.timestamp-e.timestamp})),t.forEach((e=>{const t=document.createElement("div");c.append(t),t.classList.add("homepagePost");const n=document.createElement("p"),a=document.createElement("h3"),o=document.createElement("img");t.append(o,a,n),a.innerText=e.user,o.src=e.avi,n.innerText=e.post}))}))}s(Object.values(o))}}))}(Object.values(e))}();!async function(t){const a=await n("users.json");Object.values(a).forEach((n=>{const{username:a,avatar:o}=n;if(null!=a&&null!=o&&a!=e){const e=document.createElement("div");t.append(e);const n=document.createElement("div"),c=document.createElement("img");n.innerText=a,c.src=o,e.append(n,c),e.addEventListener("click",(()=>{localStorage.setItem("viewUser",a),localStorage.setItem("viewUserAvatar",o),setTimeout((()=>{location.assign("../html/profileViewer.html")}),100)}))}}))}(document.querySelector("#user-list"));const m=document.querySelector("#log-out-btn");m.addEventListener("click",(()=>{location.assign("../index.html")}));
//# sourceMappingURL=homePage.e2d3dd2e.js.map
