const e=localStorage.getItem("user"),t=(localStorage.getItem("avatar"),"https://js2-7158b-default-rtdb.europe-west1.firebasedatabase.app/");async function n(e){const n=t+e,a=await fetch(n);return await a.json()}const a=localStorage.getItem("viewUser"),o=localStorage.getItem("viewUserAvatar");document.querySelector("#homepage-btn").addEventListener("click",(()=>{setTimeout((()=>{location.assign("../html/homePage.html")}),100)})),async function(){const e=await n("users.json"),t=Object.values(e),o=Object.keys(e);!function(e){let t=0;e.forEach((e=>{const{username:n}=e;if(a==n){const e=o[t];localStorage.setItem("currentView",e)}t++}))}(t)}(),setTimeout((()=>{!async function(){const e=await n(`users/${localStorage.getItem("currentView")}/posts.json`);if(null!=e){const n=Object.values(e);t=n,i.innerHTML="",t.forEach((e=>{const{message:t}=e,n=document.createElement("div");i.prepend(n),n.innerText=t}))}else{const e=document.createElement("p");i.append(e),e.innerText="no posts yet :("}var t}()}),200);const s=document.querySelector("#user-avatar"),c=document.querySelector("#user-name");var r,l,u;r=a,l=o,u=c,s.src=l,u.innerText=r;const i=document.querySelector("#all-posts");!async function(t){const a=await n("users.json");Object.values(a).forEach((n=>{const{username:a,avatar:o}=n;if(null!=a&&null!=o&&a!=e){const e=document.createElement("div");t.append(e);const n=document.createElement("div"),s=document.createElement("img");n.innerText=a,s.src=o,e.append(n,s),e.addEventListener("click",(()=>{localStorage.setItem("viewUser",a),localStorage.setItem("viewUserAvatar",o),setTimeout((()=>{location.assign("../html/usersPage.html")}),100)}))}}))}(document.querySelector("#user-list"));const m=document.querySelector("#log-out-btn");m.addEventListener("click",(()=>{location.assign("../index.html")}));
//# sourceMappingURL=usersPage.ca70ee2c.js.map
