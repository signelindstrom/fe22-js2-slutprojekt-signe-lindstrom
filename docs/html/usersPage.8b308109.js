const e=localStorage.getItem("user"),t=(localStorage.getItem("avatar"),"https://js2-7158b-default-rtdb.europe-west1.firebasedatabase.app/");async function n(e){const n=t+e,o=await fetch(n);return await o.json()}const o=localStorage.getItem("viewUser"),a=localStorage.getItem("viewUserAvatar");document.querySelector("#homepage-btn").addEventListener("click",(()=>{setTimeout((()=>{location.assign("../html/homepage.html")}),100)})),async function(){const e=await n("users.json"),t=Object.values(e),a=Object.keys(e);!function(e){let t=0;e.forEach((e=>{const{username:n}=e;if(o==n){const e=a[t];console.log(a[t]),localStorage.setItem("currentView",e)}t++}))}(t)}(),setTimeout((()=>{!async function(){const e=await n(`users/${localStorage.getItem("currentView")}/posts.json`);if(null!=e){const n=Object.values(e);console.log(n),t=n,u.innerHTML="",t.forEach((e=>{const{message:t}=e,n=document.createElement("div");u.prepend(n),n.innerText=t}))}else{const e=document.createElement("p");u.append(e),e.innerText="no posts yet :("}var t}()}),200);const c=document.querySelector("#user-avatar"),s=document.querySelector("#user-name");var r,l,i;r=o,l=a,i=s,c.src=l,i.innerText=r;const u=document.querySelector("#all-posts");!async function(t){const o=await n("users.json");Object.values(o).forEach((n=>{const{username:o,avatar:a}=n;if(null!=o&&null!=a&&o!=e){const e=document.createElement("div");t.append(e);const n=document.createElement("div"),c=document.createElement("img");n.innerText=o,c.src=a,e.append(n,c),e.addEventListener("click",(()=>{localStorage.setItem("viewUser",o),localStorage.setItem("viewUserAvatar",a),setTimeout((()=>{location.assign("../html/profileViewer.html")}),100)}))}}))}(document.querySelector("#user-list"));const m=document.querySelector("#log-out-btn");m.addEventListener("click",(()=>{location.assign("../index.html")}));
//# sourceMappingURL=usersPage.8b308109.js.map
