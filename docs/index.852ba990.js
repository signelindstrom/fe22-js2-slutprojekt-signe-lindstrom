function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequire3a97;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequire3a97=r),r.register("27Lyk",(function(t,n){var o,r;e(t.exports,"register",(()=>o),(e=>o=e)),e(t.exports,"resolve",(()=>r),(e=>r=e));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("27Lyk").register(JSON.parse('{"l1gf1":"index.852ba990.js","2N1RG":"frog-emoji.f8178103.png","esnKb":"snake-emoji.9cbb8289.png","kqi8x":"lizard-emoji.65350939.png"}'));localStorage.getItem("user"),localStorage.getItem("avatar");const a="https://js2-7158b-default-rtdb.europe-west1.firebasedatabase.app/";async function s(e){const t=a+e,n=await fetch(t);return await n.json()}const i=document.querySelector("#login-btn"),l=document.querySelector("#signup-btn"),c=document.querySelector("#user-choice"),u=document.querySelector("#user-input");let d=!1,m=!1,p="";document.querySelector("#login-headline")?.addEventListener("click",(()=>{location.reload()})),i.addEventListener("click",(()=>{console.log("login"),u.style.display="inline-block",c.style.display="none"})),l.addEventListener("click",(()=>{d=!0,console.log("signup"),u.style.display="inline-block",c.style.display="none",function(){const e=document.createElement("div");e.classList.add("avatarDiv");const t=document.createElement("img"),n=document.createElement("img"),o=document.createElement("img"),r=document.createElement("p");r.classList.add("errorMessage"),r.innerText="Please pick an avatar!",b.append(e),e.append(r,t,n,o);const a=new URL(w);t.src=a.href;const s=new URL(h);n.src=s.href;const i=new URL(S);o.src=i.href,t.addEventListener("click",(()=>{p="https://img.icons8.com/emoji/256/frog-emoji.png"})),n.addEventListener("click",(()=>{p="https://img.icons8.com/emoji/256/snake-emoji.png"})),o.addEventListener("click",(()=>{p="https://img.icons8.com/emoji/256/lizard-emoji.png"}))}()}));const g=document.querySelector("#user-input");g.addEventListener("submit",(e=>{e.preventDefault(),async function(){const e=await s("users.json"),t=Object.values(e);if(0==d){function n(e){for(let t=0;t<e.length;t++){const{username:n,password:o,avatar:r}=e[t];if(f.value==n&&v.value==o){y.innerText="",localStorage.setItem("user",f.value),localStorage.setItem("password",v.value),localStorage.setItem("avatar",r),setTimeout((()=>{location.assign("../html/homepage.html")}),400);break}y.innerText="username or password is wrong :("}}n(t)}if(1==d){function o(e){for(let t=0;t<e.length;t++){const{username:n,password:o}=e[t];if(f.value==n&&v.value==o){y.innerText="user already exist, try logging in instead :)",m=!1;break}if(f.value==n){y.innerText="name already in use :(",m=!1;break}f.value!=n&&(m=!0)}}o(t)}if(1==m&&""!=p){async function r(e){const t=a+"users.json",n={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}},o=await fetch(t,n);await o.json()}r({username:f.value,password:v.value,avatar:p}),localStorage.setItem("user",f.value),localStorage.setItem("password",v.value),localStorage.setItem("avatar",p),setTimeout((()=>{location.assign("../html/homePage.html")}),400)}}()}));const f=document.querySelector("#username-input"),v=document.querySelector("#password-input"),y=document.createElement("p");y.classList.add("errorMessage"),g.append(y);const b=document.querySelector("#login-container");var w={};w=new URL(r("27Lyk").resolve("2N1RG"),import.meta.url).toString();var h={};h=new URL(r("27Lyk").resolve("esnKb"),import.meta.url).toString();var S={};S=new URL(r("27Lyk").resolve("kqi8x"),import.meta.url).toString();
//# sourceMappingURL=index.852ba990.js.map
